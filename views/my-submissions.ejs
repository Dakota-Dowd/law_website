<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>My Submissions — Injury Lawyers of Nevada</title>
  <style>
    /*=======================================
    Classic & Formal Theme (Navy / Gray)
    =======================================*/
    :root{
      --navy:#0c2340;
      --navy-600:#12325f;
      --gray-100:#f6f7f9;
      --gray-300:#d9dde3;
      --gray-600:#616a76;
      --gray-800:#2f3540;
      --gold:#bfa76f;
      --max:1100px;
    }
    html,body{margin:0;padding:0;background:var(--gray-100);color:var(--gray-800);}
    body{font-family: "Georgia", "Times New Roman", serif; line-height:1.6;}

    /*=======================================
    Top Bar
    =======================================*/
    .topbar{
      background:var(--navy);
      color:#fff;
      border-bottom:4px solid var(--gold);
      position:sticky;
      top:0;
      z-index:100;
    }
    .wrap{max-width:var(--max); margin:0 auto; padding:0 20px;}
    .topbar-inner{display:flex; align-items:center; justify-content:space-between; padding:14px 0;}
    .brand{display:flex; align-items:center; gap:12px; text-decoration:none; color:#fff;}
    .brand-mark{
      width:38px;height:38px; border:2px solid #fff; border-radius:6px; display:grid; place-items:center;
      font-weight:700; letter-spacing:1px;
    }
    .brand h1{font-size:20px; margin:0; font-weight:700;}
    .nav{display:flex; align-items:center;}
    .nav a{
      color:#e9edf5; text-decoration:none; margin-left:18px; font-size:15px;
    }
    .nav a:hover{color:#fff; text-decoration:underline;}
    .account-dropdown{
      position:relative; display:inline-block; margin-left:18px;
    }
    .account-btn{
      color:#fff; font-weight:700; cursor:pointer; font-size:15px; background:rgba(255,255,255,0.15);
      border:none; padding:8px 16px; font-family:inherit; border-radius:6px;
    }
    .account-btn:hover{background:rgba(255,255,255,0.25);}
    .dropdown-content{
      display:none; position:absolute; right:0; background:#fff; min-width:180px;
      box-shadow:0 4px 8px rgba(0,0,0,0.2); border-radius:6px; margin-top:0; padding-top:4px; z-index:1000;
    }
    .dropdown-content a{
      color:var(--gray-800); padding:12px 16px; text-decoration:none; display:block;
      font-size:14px; margin:0;
    }
    .dropdown-content a:hover{background:var(--gray-100); color:var(--gray-800);}
    .account-dropdown:hover .dropdown-content,
    .dropdown-content:hover{display:block;}

    /*=======================================
    Submissions Section
    =======================================*/
    .submissions-section{
      padding:56px 0;
      background:#fff;
    }
    .submissions-title{
      font-size:26px; margin:0 0 10px; color:var(--navy); text-align:center;
    }
    .submissions-subtitle{
      text-align:center; color:var(--gray-600); margin-bottom:28px; font-style:italic;
    }
    .cases-container{
      max-width:900px; margin:0 auto;
    }
    .case-card{
      background:#fff; border:1px solid var(--gray-300); border-radius:10px;
      padding:24px; margin-bottom:20px; box-shadow:0 2px 4px rgba(0,0,0,0.05);
    }
    .case-header{
      display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:16px;
      flex-wrap:wrap; gap:12px;
    }
    .case-title{
      font-size:20px; font-weight:700; color:var(--navy); margin:0;
    }
    .case-status{
      padding:6px 14px; border-radius:999px; font-size:14px; font-weight:600;
    }
    .case-status.open{
      background:#e8f5e9; color:#2e7d32;
    }
    .case-status.in-progress{
      background:#fff3e0; color:#ef6c00;
    }
    .case-status.closed{
      background:#ffebee; color:#c62828;
    }
    .priority-badge{
      padding:4px 10px; border-radius:6px; font-size:13px; font-weight:600;
      display:inline-block;
    }
    .priority-badge.low{
      background:#e3f2fd; color:#1565c0;
    }
    .priority-badge.medium{
      background:#fff3e0; color:#ef6c00;
    }
    .priority-badge.high{
      background:#ffebee; color:#c62828;
    }
    .case-meta{
      display:grid; grid-template-columns:repeat(auto-fit, minmax(200px, 1fr)); gap:12px;
      margin-bottom:16px; padding:12px 0; border-top:1px solid var(--gray-300);
      border-bottom:1px solid var(--gray-300);
    }
    .case-meta-item{
      font-size:14px;
    }
    .case-meta-label{
      color:var(--gray-600); font-weight:600; display:block;
    }
    .case-meta-value{
      color:var(--gray-800);
    }
    .case-description{
      color:var(--gray-800); margin-bottom:16px; line-height:1.7;
    }

    /*=======================================
    Footer
    =======================================*/
    footer{
      background:#fff; border-top:1px solid var(--gray-300); color:var(--gray-600);
      padding:22px 0; font-size:14px;
    }
    .footgrid{display:flex; flex-wrap:wrap; gap:12px; align-items:center; justify-content:space-between;}
    .footnav a{color:var(--gray-600); text-decoration:none; margin-right:14px;}
    .footnav a:hover{text-decoration:underline;}

    /*=======================================
    Responsive
    =======================================*/
    @media (max-width: 820px){
      .case-header{flex-direction:column;}
      .case-meta{grid-template-columns:1fr;}
    }
  </style>
</head>
<body>

  <!--=======================================
  Top Navigation
  =======================================-->
  <header class="topbar" role="banner">
    <div class="wrap topbar-inner">
      <a class="brand" href="/index">
        <span class="brand-mark">ILN</span>
        <h1>Injury Lawyers of Nevada</h1>
      </a>
      <nav class="nav" aria-label="Primary">
        <a href="/index">Home</a>
        <a href="/about">About Us</a>
        <a href="/faq">FAQ</a>
        <a href="/submit">Submission Page</a>
        <% if (roleId === 1 || roleId === 2) { %>
          <a href="/review">Lawyer Review Page</a>
        <% } %>
        <% if (isLoggedIn) { %>
          <div class="account-dropdown">
            <button class="account-btn">Account</button>
            <div class="dropdown-content">
              <a href="/profile">View/Edit Profile</a>
              <a href="/my-submissions">View Submissions</a>
              <% if (isAdmin) { %>
                <a href="/manage-users">Manage Users</a>
              <% } %>
              <a href="/logout">Log Out</a>
            </div>
          </div>
        <% } else { %>
          <a href="/login"><strong>Login</strong></a>
        <% } %>
      </nav>
    </div>
  </header>

  <!--=======================================
  Submissions Section
  =======================================-->
  <section class="submissions-section">
    <div class="wrap">
      <h2 class="submissions-title">My Case Submissions</h2>
      <p class="submissions-subtitle">View the status of your submitted cases</p>
      
      <div class="cases-container">
        <% if (typeof cases !== 'undefined' && cases.length > 0) { %>
          <% cases.forEach(function(caseItem) { %>
            <% 
              let statusText = 'Open';
              let statusClass = 'open';
              if (caseItem.status_id === 2) {
                statusText = 'In Progress';
                statusClass = 'in-progress';
              } else if (caseItem.status_id === 3) {
                statusText = 'Closed';
                statusClass = 'closed';
              }
              const priorityValue = caseItem.priority || 'low';
            %>
            <div class="case-card">
              <div class="case-header">
                <h3 class="case-title"><%= caseItem.title %></h3>
                <div style="display:flex; align-items:center; gap:12px;">
                  <span class="priority-badge <%= priorityValue %>">
                    Priority: <%= priorityValue.charAt(0).toUpperCase() + priorityValue.slice(1) %>
                  </span>
                  <span class="case-status <%= statusClass %>">
                    <%= statusText %>
                  </span>
                </div>
              </div>
              
              <div class="case-meta">
                <div class="case-meta-item">
                  <span class="case-meta-label">Practice Area:</span>
                  <span class="case-meta-value"><%= caseItem.practice_area_name || 'N/A' %></span>
                </div>
                <div class="case-meta-item">
                  <span class="case-meta-label">Submission Date:</span>
                  <span class="case-meta-value"><%= new Date(caseItem.opened_on).toLocaleDateString() %></span>
                </div>
                <div class="case-meta-item">
                  <span class="case-meta-label">Case ID:</span>
                  <span class="case-meta-value"><%= caseItem.case_id %></span>
                </div>
              </div>
              
              <div class="case-description">
                <strong>Description:</strong><br>
                <%= caseItem.description %>
              </div>
            </div>
          <% }); %>
        <% } else { %>
          <div class="case-card">
            <p style="text-align:center; color:var(--gray-600); margin:0;">
              You have not submitted any cases yet.
            </p>
          </div>
        <% } %>
      </div>
    </div>
  </section>

  <!--=======================================
  Footer
  =======================================-->
  <footer role="contentinfo">
    <div class="wrap footgrid">
      <div>
        © <span id="yr"></span> Injury Lawyers of Nevada. All rights reserved.
        <span style="margin-left:10px">Las Vegas, NV</span>
      </div>
      <nav class="footnav" aria-label="Footer">
        <a href="/index">Home</a>
        <a href="/about">About Us</a>
        <a href="/faq">FAQ</a>
        <a href="/login">Login</a>
      </nav>
    </div>
    <div class="wrap" style="margin-top:10px; color:#8a93a1;">
      <small><em>*Contingency fee structure varies by case. This website is for informational purposes only and does not constitute legal advice. Viewing this site or contacting us does not create an attorney–client relationship.</em></small>
    </div>
  </footer>

  <script>
    document.getElementById('yr').textContent = new Date().getFullYear();
  </script>
</body>
</html>
